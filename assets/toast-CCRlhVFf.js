var Oe=Object.defineProperty;var Ne=(e,t,a)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var l=(e,t,a)=>Ne(e,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();const Je={};var k=null;function De(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return Je.randomBytes(e)}catch{}if(!k)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return k(e)}function Le(e){k=e}function Z(e,t){if(e=e||Q,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var a=[];return a.push("$2b$"),e<10&&a.push("0"),a.push(e.toString()),a.push("$"),a.push(M(De(J),J)),a.join("")}function se(e,t,a){if(typeof t=="function"&&(a=t,t=void 0),typeof e=="function"&&(a=e,e=void 0),typeof e>"u")e=Q;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function r(n){w(function(){try{n(null,Z(e))}catch(i){n(i)}})}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);r(a)}else return new Promise(function(n,i){r(function(o,s){if(o){i(o);return}n(s)})})}function fe(e,t){if(typeof t>"u"&&(t=Q),typeof t=="number"&&(t=Z(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return G(e,t)}function de(e,t,a,r){function n(i){typeof e=="string"&&typeof t=="number"?se(t,function(o,s){G(e,s,i,r)}):typeof e=="string"&&typeof t=="string"?G(e,t,i,r):w(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);n(a)}else return new Promise(function(i,o){n(function(s,c){if(s){o(s);return}i(c)})})}function xe(e,t){for(var a=e.length^t.length,r=0;r<e.length;++r)a|=e.charCodeAt(r)^t.charCodeAt(r);return a===0}function $e(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:xe(fe(e,t.substring(0,t.length-31)),t)}function Ue(e,t,a,r){function n(i){if(typeof e!="string"||typeof t!="string"){w(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){w(i.bind(this,null,!1));return}de(e,t.substring(0,29),function(o,s){o?i(o):i(null,xe(s,t))},r)}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);n(a)}else return new Promise(function(i,o){n(function(s,c){if(s){o(s);return}i(c)})})}function Me(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function Be(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function Fe(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return be(e)>72}var w=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function be(e){for(var t=0,a=0,r=0;r<e.length;++r)a=e.charCodeAt(r),a<128?t+=1:a<2048?t+=2:(a&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320?(++r,t+=4):t+=3;return t}function Ve(e){for(var t=0,a,r,n=new Array(be(e)),i=0,o=e.length;i<o;++i)a=e.charCodeAt(i),a<128?n[t++]=a:a<2048?(n[t++]=a>>6|192,n[t++]=a&63|128):(a&64512)===55296&&((r=e.charCodeAt(i+1))&64512)===56320?(a=65536+((a&1023)<<10)+(r&1023),++i,n[t++]=a>>18|240,n[t++]=a>>12&63|128,n[t++]=a>>6&63|128,n[t++]=a&63|128):(n[t++]=a>>12|224,n[t++]=a>>6&63|128,n[t++]=a&63|128);return n}var R="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),v=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function M(e,t){var a=0,r=[],n,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;a<t;){if(n=e[a++]&255,r.push(R[n>>2&63]),n=(n&3)<<4,a>=t){r.push(R[n&63]);break}if(i=e[a++]&255,n|=i>>4&15,r.push(R[n&63]),n=(i&15)<<2,a>=t){r.push(R[n&63]);break}i=e[a++]&255,n|=i>>6&3,r.push(R[n&63]),r.push(R[i&63])}return r.join("")}function ue(e,t){var a=0,r=e.length,n=0,i=[],o,s,c,f,d,x;if(t<=0)throw Error("Illegal len: "+t);for(;a<r-1&&n<t&&(x=e.charCodeAt(a++),o=x<v.length?v[x]:-1,x=e.charCodeAt(a++),s=x<v.length?v[x]:-1,!(o==-1||s==-1||(d=o<<2>>>0,d|=(s&48)>>4,i.push(String.fromCharCode(d)),++n>=t||a>=r)||(x=e.charCodeAt(a++),c=x<v.length?v[x]:-1,c==-1)||(d=(s&15)<<4>>>0,d|=(c&60)>>2,i.push(String.fromCharCode(d)),++n>=t||a>=r)));)x=e.charCodeAt(a++),f=x<v.length?v[x]:-1,d=(c&3)<<6>>>0,d|=f,i.push(String.fromCharCode(d)),++n;var b=[];for(a=0;a<n;a++)b.push(i[a].charCodeAt(0));return b}var J=16,Q=10,ke=16,Ge=100,te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],ae=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],le=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function D(e,t,a,r){var n,i=e[t],o=e[t+1];return i^=a[0],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[1],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[2],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[3],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[4],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[5],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[6],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[7],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[8],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[9],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[10],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[11],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[12],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[13],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[14],n=r[i>>>24],n+=r[256|i>>16&255],n^=r[512|i>>8&255],n+=r[768|i&255],o^=n^a[15],n=r[o>>>24],n+=r[256|o>>16&255],n^=r[512|o>>8&255],n+=r[768|o&255],i^=n^a[16],e[t]=o^a[ke+1],e[t+1]=i,e}function I(e,t){for(var a=0,r=0;a<4;++a)r=r<<8|e[t]&255,t=(t+1)%e.length;return{key:r,offp:t}}function re(e,t,a){for(var r=0,n=[0,0],i=t.length,o=a.length,s,c=0;c<i;c++)s=I(e,r),r=s.offp,t[c]=t[c]^s.key;for(c=0;c<i;c+=2)n=D(n,0,t,a),t[c]=n[0],t[c+1]=n[1];for(c=0;c<o;c+=2)n=D(n,0,t,a),a[c]=n[0],a[c+1]=n[1]}function qe(e,t,a,r){for(var n=0,i=[0,0],o=a.length,s=r.length,c,f=0;f<o;f++)c=I(t,n),n=c.offp,a[f]=a[f]^c.key;for(n=0,f=0;f<o;f+=2)c=I(e,n),n=c.offp,i[0]^=c.key,c=I(e,n),n=c.offp,i[1]^=c.key,i=D(i,0,a,r),a[f]=i[0],a[f+1]=i[1];for(f=0;f<s;f+=2)c=I(e,n),n=c.offp,i[0]^=c.key,c=I(e,n),n=c.offp,i[1]^=c.key,i=D(i,0,a,r),r[f]=i[0],r[f+1]=i[1]}function ne(e,t,a,r,n){var i=le.slice(),o=i.length,s;if(a<4||a>31)if(s=Error("Illegal number of rounds (4-31): "+a),r){w(r.bind(this,s));return}else throw s;if(t.length!==J)if(s=Error("Illegal salt length: "+t.length+" != "+J),r){w(r.bind(this,s));return}else throw s;a=1<<a>>>0;var c,f,d=0,x;typeof Int32Array=="function"?(c=new Int32Array(te),f=new Int32Array(ae)):(c=te.slice(),f=ae.slice()),qe(t,e,c,f);function b(){if(n&&n(d/a),d<a)for(var u=Date.now();d<a&&(d=d+1,re(e,c,f),re(t,c,f),!(Date.now()-u>Ge)););else{for(d=0;d<64;d++)for(x=0;x<o>>1;x++)D(i,x<<1,c,f);var h=[];for(d=0;d<o;d++)h.push((i[d]>>24&255)>>>0),h.push((i[d]>>16&255)>>>0),h.push((i[d]>>8&255)>>>0),h.push((i[d]&255)>>>0);if(r){r(null,h);return}else return h}r&&w(b)}if(typeof r<"u")b();else for(var p;;)if(typeof(p=b())<"u")return p||[]}function G(e,t,a,r){var n;if(typeof e!="string"||typeof t!="string")if(n=Error("Invalid string / salt: Not a string"),a){w(a.bind(this,n));return}else throw n;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(n=Error("Invalid salt version: "+t.substring(0,2)),a){w(a.bind(this,n));return}else throw n;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(n=Error("Invalid salt revision: "+t.substring(2,4)),a){w(a.bind(this,n));return}else throw n;o=4}if(t.charAt(o+2)>"$")if(n=Error("Missing salt rounds"),a){w(a.bind(this,n));return}else throw n;var s=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),f=s+c,d=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var x=Ve(e),b=ue(d,J);function p(u){var h=[];return h.push("$2"),i>="a"&&h.push(i),h.push("$"),f<10&&h.push("0"),h.push(f.toString()),h.push("$"),h.push(M(b,b.length)),h.push(M(u,le.length*4-1)),h.join("")}if(typeof a>"u")return p(ne(x,b,f));ne(x,b,f,function(u,h){u?a(u,null):a(null,p(h))},r)}function ze(e,t){return M(e,t)}function Xe(e,t){return ue(e,t)}const q={setRandomFallback:Le,genSaltSync:Z,genSalt:se,hashSync:fe,hash:de,compareSync:$e,compare:Ue,getRounds:Me,getSalt:Be,truncates:Fe,encodeBase64:ze,decodeBase64:Xe},W=(e,t,a=[])=>({success:e,message:t??"Something went wrong. Try again.",data:a}),z="https://tidytask-api.onrender.com",Ye="8e5c9e3f75bdb60e5737b03b4eb9e39fb6da0ab7228304e88d8c8bb72e16f251",pe=new TextEncoder().encode(Ye),g=new TextEncoder,C=new TextDecoder;function he(...e){const t=e.reduce((n,{length:i})=>n+i,0),a=new Uint8Array(t);let r=0;for(const n of e)a.set(n,r),r+=n.length;return a}function Ze(e){if(Uint8Array.prototype.toBase64)return e.toBase64();const t=32768,a=[];for(let r=0;r<e.length;r+=t)a.push(String.fromCharCode.apply(null,e.subarray(r,r+t)));return btoa(a.join(""))}function Qe(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),a=new Uint8Array(t.length);for(let r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return a}function $(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:C.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=C.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Qe(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function F(e){let t=e;return typeof t=="string"&&(t=g.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):Ze(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class T extends Error{constructor(a,r){var n;super(a,r);l(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}l(T,"code","ERR_JOSE_GENERIC");class m extends T{constructor(a,r,n="unspecified",i="unspecified"){super(a,{cause:{claim:n,reason:i,payload:r}});l(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");l(this,"claim");l(this,"reason");l(this,"payload");this.claim=n,this.reason=i,this.payload=r}}l(m,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class X extends T{constructor(a,r,n="unspecified",i="unspecified"){super(a,{cause:{claim:n,reason:i,payload:r}});l(this,"code","ERR_JWT_EXPIRED");l(this,"claim");l(this,"reason");l(this,"payload");this.claim=n,this.reason=i,this.payload=r}}l(X,"code","ERR_JWT_EXPIRED");class _ extends T{constructor(){super(...arguments);l(this,"code","ERR_JOSE_NOT_SUPPORTED")}}l(_,"code","ERR_JOSE_NOT_SUPPORTED");class y extends T{constructor(){super(...arguments);l(this,"code","ERR_JWS_INVALID")}}l(y,"code","ERR_JWS_INVALID");class B extends T{constructor(){super(...arguments);l(this,"code","ERR_JWT_INVALID")}}l(B,"code","ERR_JWT_INVALID");class ye extends T{constructor(a="signature verification failed",r){super(a,r);l(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}l(ye,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");function E(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function O(e,t){return e.name===t}function V(e){return parseInt(e.name.slice(4),10)}function je(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function et(e,t){if(t&&!e.usages.includes(t))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function tt(e,t,a){switch(t){case"HS256":case"HS384":case"HS512":{if(!O(e.algorithm,"HMAC"))throw E("HMAC");const r=parseInt(t.slice(2),10);if(V(e.algorithm.hash)!==r)throw E(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!O(e.algorithm,"RSASSA-PKCS1-v1_5"))throw E("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(V(e.algorithm.hash)!==r)throw E(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!O(e.algorithm,"RSA-PSS"))throw E("RSA-PSS");const r=parseInt(t.slice(2),10);if(V(e.algorithm.hash)!==r)throw E(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!O(e.algorithm,"Ed25519"))throw E("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!O(e.algorithm,"ECDSA"))throw E("ECDSA");const r=je(t);if(e.algorithm.namedCurve!==r)throw E(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}et(e,a)}function me(e,t,...a){var r;if(a=a.filter(Boolean),a.length>2){const n=a.pop();e+=`one of type ${a.join(", ")}, or ${n}.`}else a.length===2?e+=`one of type ${a[0]} or ${a[1]}.`:e+=`of type ${a[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const at=(e,...t)=>me("Key must be ",e,...t);function we(e,t,...a){return me(`Key for the ${e} algorithm must be `,t,...a)}function ge(e){return(e==null?void 0:e[Symbol.toStringTag])==="CryptoKey"}function Ee(e){return(e==null?void 0:e[Symbol.toStringTag])==="KeyObject"}const ve=e=>ge(e)||Ee(e),Ae=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let a;for(const r of t){const n=Object.keys(r);if(!a||a.size===0){a=new Set(n);continue}for(const i of n){if(a.has(i))return!1;a.add(i)}}return!0};function rt(e){return typeof e=="object"&&e!==null}const L=e=>{if(!rt(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Se=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:a}=t.algorithm;if(typeof a!="number"||a<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function nt(e){let t,a;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},a=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},a=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},a=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},a=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},a=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},a=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},a=e.d?["deriveBits"]:[];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},a=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},a=e.d?["deriveBits"]:[];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new _('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:a}}const ot=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:a}=nt(e),r={...e};return delete r.alg,delete r.use,crypto.subtle.importKey("jwk",r,t,e.ext??!e.d,e.key_ops??a)},_e=(e,t,a,r,n)=>{if(n.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;a!==void 0?i=new Map([...Object.entries(a),...t.entries()]):i=t;for(const o of r.crit){if(!i.has(o))throw new _(`Extension Header Parameter "${o}" is not recognized`);if(n[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(i.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)};function j(e){return L(e)&&typeof e.kty=="string"}function it(e){return e.kty!=="oct"&&typeof e.d=="string"}function ct(e){return e.kty!=="oct"&&typeof e.d>"u"}function st(e){return e.kty==="oct"&&typeof e.k=="string"}let P;const oe=async(e,t,a,r=!1)=>{P||(P=new WeakMap);let n=P.get(e);if(n!=null&&n[a])return n[a];const i=await ot({...t,alg:a});return r&&Object.freeze(e),n?n[a]=i:P.set(e,{[a]:i}),i},ft=(e,t)=>{var o;P||(P=new WeakMap);let a=P.get(e);if(a!=null&&a[t])return a[t];const r=e.type==="public",n=!!r;let i;if(e.asymmetricKeyType==="x25519"){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}i=e.toCryptoKey(e.asymmetricKeyType,n,r?[]:["deriveBits"])}if(e.asymmetricKeyType==="ed25519"){if(t!=="EdDSA"&&t!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");i=e.toCryptoKey(e.asymmetricKeyType,n,[r?"verify":"sign"])}if(e.asymmetricKeyType==="rsa"){let s;switch(t){case"RSA-OAEP":s="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":s="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":s="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":s="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:s},n,r?["encrypt"]:["decrypt"]);i=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:s},n,[r?"verify":"sign"])}if(e.asymmetricKeyType==="ec"){const c=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((o=e.asymmetricKeyDetails)==null?void 0:o.namedCurve);if(!c)throw new TypeError("given KeyObject instance cannot be used for this algorithm");t==="ES256"&&c==="P-256"&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:c},n,[r?"verify":"sign"])),t==="ES384"&&c==="P-384"&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:c},n,[r?"verify":"sign"])),t==="ES512"&&c==="P-521"&&(i=e.toCryptoKey({name:"ECDSA",namedCurve:c},n,[r?"verify":"sign"])),t.startsWith("ECDH-ES")&&(i=e.toCryptoKey({name:"ECDH",namedCurve:c},n,r?[]:["deriveBits"]))}if(!i)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return a?a[t]=i:P.set(e,{[t]:i}),i},Ce=async(e,t)=>{if(e instanceof Uint8Array||ge(e))return e;if(Ee(e)){if(e.type==="secret")return e.export();if("toCryptoKey"in e&&typeof e.toCryptoKey=="function")try{return ft(e,t)}catch(r){if(r instanceof TypeError)throw r}let a=e.export({format:"jwk"});return oe(e,a,t)}if(j(e))return e.k?$(e.k):oe(e,e,t,!0);throw new Error("unreachable")},H=e=>e==null?void 0:e[Symbol.toStringTag],Y=(e,t,a)=>{var r,n;if(t.use!==void 0){let i;switch(a){case"sign":case"verify":i="sig";break;case"encrypt":case"decrypt":i="enc";break}if(t.use!==i)throw new TypeError(`Invalid key for this operation, its "use" must be "${i}" when present`)}if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let i;switch(!0){case(a==="sign"||a==="verify"):case e==="dir":case e.includes("CBC-HS"):i=a;break;case e.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):!e.includes("GCM")&&e.endsWith("KW")?i=a==="encrypt"?"wrapKey":"unwrapKey":i=a;break;case(a==="encrypt"&&e.startsWith("RSA")):i="wrapKey";break;case a==="decrypt":i=e.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(i&&((n=(r=t.key_ops)==null?void 0:r.includes)==null?void 0:n.call(r,i))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0},dt=(e,t,a)=>{if(!(t instanceof Uint8Array)){if(j(t)){if(st(t)&&Y(e,t,a))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!ve(t))throw new TypeError(we(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(t.type!=="secret")throw new TypeError(`${H(t)} instances for symmetric algorithms must be of type "secret"`)}},xt=(e,t,a)=>{if(j(t))switch(a){case"decrypt":case"sign":if(it(t)&&Y(e,t,a))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(ct(t)&&Y(e,t,a))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!ve(t))throw new TypeError(we(e,t,"CryptoKey","KeyObject","JSON Web Key"));if(t.type==="secret")throw new TypeError(`${H(t)} instances for asymmetric algorithms must not be of type "secret"`);if(t.type==="public")switch(a){case"sign":throw new TypeError(`${H(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${H(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.type==="private")switch(a){case"verify":throw new TypeError(`${H(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${H(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},Te=(e,t,a)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?dt(e,t,a):xt(e,t,a)},Ke=(e,t)=>{const a=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:a,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:a,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:a,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:a,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new _(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},Re=async(e,t,a)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(at(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[a])}return tt(t,e,a),t},bt=async(e,t,a,r)=>{const n=await Re(e,t,"verify");Se(e,n);const i=Ke(e,n.algorithm);try{return await crypto.subtle.verify(i,n,a,r)}catch{return!1}};async function ut(e,t,a){if(!L(e))throw new y("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new y('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new y("JWS Protected Header incorrect type");if(e.payload===void 0)throw new y("JWS Payload missing");if(typeof e.signature!="string")throw new y("JWS Signature missing or incorrect type");if(e.header!==void 0&&!L(e.header))throw new y("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const h=$(e.protected);r=JSON.parse(C.decode(h))}catch{throw new y("JWS Protected Header is invalid")}if(!Ae(r,e.header))throw new y("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...r,...e.header},i=_e(y,new Map([["b64",!0]]),a==null?void 0:a.crit,r,n);let o=!0;if(i.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new y('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=n;if(typeof s!="string"||!s)throw new y('JWS "alg" (Algorithm) Header Parameter missing or invalid');if(o){if(typeof e.payload!="string")throw new y("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new y("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof t=="function"&&(t=await t(r,e),c=!0),Te(s,t,"verify");const f=he(g.encode(e.protected??""),g.encode("."),typeof e.payload=="string"?g.encode(e.payload):e.payload);let d;try{d=$(e.signature)}catch{throw new y("Failed to base64url decode the signature")}const x=await Ce(t,s);if(!await bt(s,x,d,f))throw new ye;let p;if(o)try{p=$(e.payload)}catch{throw new y("Failed to base64url decode the payload")}else typeof e.payload=="string"?p=g.encode(e.payload):p=e.payload;const u={payload:p};return e.protected!==void 0&&(u.protectedHeader=r),e.header!==void 0&&(u.unprotectedHeader=e.header),c?{...u,key:x}:u}async function lt(e,t,a){if(e instanceof Uint8Array&&(e=C.decode(e)),typeof e!="string")throw new y("Compact JWS must be a string or Uint8Array");const{0:r,1:n,2:i,length:o}=e.split(".");if(o!==3)throw new y("Invalid Compact JWS");const s=await ut({payload:n,protected:r,signature:i},t,a),c={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...c,key:s.key}:c}const A=e=>Math.floor(e.getTime()/1e3),Ie=60,He=Ie*60,ee=He*24,pt=ee*7,ht=ee*365.25,yt=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,N=e=>{const t=yt.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const a=parseFloat(t[2]),r=t[3].toLowerCase();let n;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(a);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(a*Ie);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(a*He);break;case"day":case"days":case"d":n=Math.round(a*ee);break;case"week":case"weeks":case"w":n=Math.round(a*pt);break;default:n=Math.round(a*ht);break}return t[1]==="-"||t[4]==="ago"?-n:n},ie=e=>e.toLowerCase().replace(/^application\//,""),mt=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,wt=(e,t,a={})=>{let r;try{r=JSON.parse(C.decode(t))}catch{}if(!L(r))throw new B("JWT Claims Set must be a top-level JSON object");const{typ:n}=a;if(n&&(typeof e.typ!="string"||ie(e.typ)!==ie(n)))throw new m('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:i=[],issuer:o,subject:s,audience:c,maxTokenAge:f}=a,d=[...i];f!==void 0&&d.push("iat"),c!==void 0&&d.push("aud"),s!==void 0&&d.push("sub"),o!==void 0&&d.push("iss");for(const u of new Set(d.reverse()))if(!(u in r))throw new m(`missing required "${u}" claim`,r,u,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new m('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new m('unexpected "sub" claim value',r,"sub","check_failed");if(c&&!mt(r.aud,typeof c=="string"?[c]:c))throw new m('unexpected "aud" claim value',r,"aud","check_failed");let x;switch(typeof a.clockTolerance){case"string":x=N(a.clockTolerance);break;case"number":x=a.clockTolerance;break;case"undefined":x=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:b}=a,p=A(b||new Date);if((r.iat!==void 0||f)&&typeof r.iat!="number")throw new m('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new m('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>p+x)throw new m('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new m('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=p-x)throw new X('"exp" claim timestamp check failed',r,"exp","check_failed")}if(f){const u=p-r.iat,h=typeof f=="number"?f:N(f);if(u-x>h)throw new X('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(u<0-x)throw new m('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function gt(e,t,a){var o;const r=await lt(e,t,a);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new B("JWTs MUST NOT use unencoded payload");const i={payload:wt(r.protectedHeader,r.payload,a),protectedHeader:r.protectedHeader};return typeof t=="function"?{...i,key:r.key}:i}const Et=async(e,t,a)=>{const r=await Re(e,t,"sign");Se(e,r);const n=await crypto.subtle.sign(Ke(e,r.algorithm),r,a);return new Uint8Array(n)};class vt{constructor(t){l(this,"_payload");l(this,"_protectedHeader");l(this,"_unprotectedHeader");if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,a){if(!this._protectedHeader&&!this._unprotectedHeader)throw new y("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Ae(this._protectedHeader,this._unprotectedHeader))throw new y("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},n=_e(y,new Map([["b64",!0]]),a==null?void 0:a.crit,this._protectedHeader,r);let i=!0;if(n.has("b64")&&(i=this._protectedHeader.b64,typeof i!="boolean"))throw new y('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new y('JWS "alg" (Algorithm) Header Parameter missing or invalid');Te(o,t,"sign");let s=this._payload;i&&(s=g.encode(F(s)));let c;this._protectedHeader?c=g.encode(F(JSON.stringify(this._protectedHeader))):c=g.encode("");const f=he(c,g.encode("."),s),d=await Ce(t,o),x=await Et(o,d,f),b={signature:F(x),payload:""};return i&&(b.payload=C.decode(s)),this._unprotectedHeader&&(b.header=this._unprotectedHeader),this._protectedHeader&&(b.protected=C.decode(c)),b}}class At{constructor(t){l(this,"_flattened");this._flattened=new vt(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,a){const r=await this._flattened.sign(t,a);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function S(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class St{constructor(t={}){l(this,"_payload");if(!L(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:S("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:S("setNotBefore",A(t))}:this._payload={...this._payload,nbf:A(new Date)+N(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:S("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:S("setExpirationTime",A(t))}:this._payload={...this._payload,exp:A(new Date)+N(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:A(new Date)}:t instanceof Date?this._payload={...this._payload,iat:S("setIssuedAt",A(t))}:typeof t=="string"?this._payload={...this._payload,iat:S("setIssuedAt",A(new Date)+N(t))}:this._payload={...this._payload,iat:S("setIssuedAt",t)},this}}class _t extends St{constructor(){super(...arguments);l(this,"_protectedHeader")}setProtectedHeader(a){return this._protectedHeader=a,this}async sign(a,r){var i;const n=new At(g.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new B("JWTs MUST NOT use unencoded payload");return n.sign(a,r)}}const Nt=(e,t)=>{e==null||e.classList.add(t)},Jt=(e,...t)=>{e==null||e.classList.remove(...t)},Pe=async e=>await new _t(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("2h").sign(pe),Ct=async e=>{try{const{payload:t}=await gt(e,pe);return t}catch{return null}},Tt=async(e,t,a)=>{try{if(!e||!t||!a)throw new Error("All fields are required.");if(e.trim().length<1)throw new Error("Full name is required.");if((t==null?void 0:t.trim().length)<1)throw new Error("Invalid username?.");if(a.trim().length<5)throw new Error("Password not strong enough.");const n=await(await fetch(`${z}/users`)).json();if(n.length>0&&n.find(u=>u.username===t))throw new Error("Username is already taken.");const i=q.genSaltSync(10),o=q.hashSync(a,i),s=Number(n.reduce((p,u)=>u.id>p?u.id:p,0))+1,c=new Date,f={id:s.toString(),name:e,username:t,password:o,createdAt:c};if(!(await fetch(`${z}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok)throw new Error("Something went wrong. Please try again.");const x={id:s,username:t,name:e,joined:c},b=await Pe(x);return W(!0,"Account created.",{token:b,user:{...x}})}catch(r){return W(!1,r.message)}},Kt=async(e,t)=>{try{if(!e||!t)throw new Error("All fields are required.");const n=(await(await fetch(`${z}/users`)).json()).find(c=>c.username===e);if(!n)throw new Error("Account not found.");if(!q.compareSync(t,n.password))throw new Error("Invalid credentials.");const o={id:n.id,username:n.username,name:n.name,joined:n.createdAt},s=await Pe(o);return W(!0,"Logged in.",{token:s,user:{...o}})}catch(a){return W(!1,a.message)}},Rt=async e=>{const t=await Ct(e);return t?W(!0,"Authenticated",t):W(!1,"Invalid token.")},Dt=async(e,t,a)=>await Tt(e,t,a),Lt=async(e,t)=>await Kt(e,t),$t=async e=>await Rt(e);function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */var Ht=U.exports,ce;function Pt(){return ce||(ce=1,function(e){(function(t,a){e.exports?e.exports=a():t.Toastify=a()})(Ht,function(t){var a=function(o){return new a.lib.init(o)},r="1.12.0";a.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},a.lib=a.prototype={toastify:r,constructor:a,init:function(o){return o||(o={}),this.options={},this.toastElement=null,this.options.text=o.text||a.defaults.text,this.options.node=o.node||a.defaults.node,this.options.duration=o.duration===0?0:o.duration||a.defaults.duration,this.options.selector=o.selector||a.defaults.selector,this.options.callback=o.callback||a.defaults.callback,this.options.destination=o.destination||a.defaults.destination,this.options.newWindow=o.newWindow||a.defaults.newWindow,this.options.close=o.close||a.defaults.close,this.options.gravity=o.gravity==="bottom"?"toastify-bottom":a.defaults.gravity,this.options.positionLeft=o.positionLeft||a.defaults.positionLeft,this.options.position=o.position||a.defaults.position,this.options.backgroundColor=o.backgroundColor||a.defaults.backgroundColor,this.options.avatar=o.avatar||a.defaults.avatar,this.options.className=o.className||a.defaults.className,this.options.stopOnFocus=o.stopOnFocus===void 0?a.defaults.stopOnFocus:o.stopOnFocus,this.options.onClick=o.onClick||a.defaults.onClick,this.options.offset=o.offset||a.defaults.offset,this.options.escapeMarkup=o.escapeMarkup!==void 0?o.escapeMarkup:a.defaults.escapeMarkup,this.options.ariaLive=o.ariaLive||a.defaults.ariaLive,this.options.style=o.style||a.defaults.style,o.backgroundColor&&(this.options.style.background=o.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var o=document.createElement("div");o.className="toastify on "+this.options.className,this.options.position?o.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(o.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):o.className+=" toastify-right",o.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var s in this.options.style)o.style[s]=this.options.style[s];if(this.options.ariaLive&&o.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)o.appendChild(this.options.node);else if(this.options.escapeMarkup?o.innerText=this.options.text:o.innerHTML=this.options.text,this.options.avatar!==""){var c=document.createElement("img");c.src=this.options.avatar,c.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?o.appendChild(c):o.insertAdjacentElement("afterbegin",c)}if(this.options.close===!0){var f=document.createElement("button");f.type="button",f.setAttribute("aria-label","Close"),f.className="toast-close",f.innerHTML="&#10006;",f.addEventListener("click",(function(K){K.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var d=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&d>360?o.insertAdjacentElement("afterbegin",f):o.appendChild(f)}if(this.options.stopOnFocus&&this.options.duration>0){var x=this;o.addEventListener("mouseover",function(K){window.clearTimeout(o.timeOutValue)}),o.addEventListener("mouseleave",function(){o.timeOutValue=window.setTimeout(function(){x.removeElement(o)},x.options.duration)})}if(typeof this.options.destination<"u"&&o.addEventListener("click",(function(K){K.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&o.addEventListener("click",(function(K){K.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var b=n("x",this.options),p=n("y",this.options),u=this.options.position=="left"?b:"-"+b,h=this.options.gravity=="toastify-top"?p:"-"+p;o.style.transform="translate("+u+","+h+")"}return o},showToast:function(){this.toastElement=this.buildToast();var o;if(typeof this.options.selector=="string"?o=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?o=this.options.selector:o=document.body,!o)throw"Root element is not defined";var s=a.defaults.oldestFirst?o.firstChild:o.lastChild;return o.insertBefore(this.toastElement,s),a.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(o){o.className=o.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),o.parentNode&&o.parentNode.removeChild(o),this.options.callback.call(o),a.reposition()}).bind(this),400)}},a.reposition=function(){for(var o={top:15,bottom:15},s={top:15,bottom:15},c={top:15,bottom:15},f=document.getElementsByClassName("toastify"),d,x=0;x<f.length;x++){i(f[x],"toastify-top")===!0?d="toastify-top":d="toastify-bottom";var b=f[x].offsetHeight;d=d.substr(9,d.length-1);var p=15,u=window.innerWidth>0?window.innerWidth:screen.width;u<=360?(f[x].style[d]=c[d]+"px",c[d]+=b+p):i(f[x],"toastify-left")===!0?(f[x].style[d]=o[d]+"px",o[d]+=b+p):(f[x].style[d]=s[d]+"px",s[d]+=b+p)}return this};function n(o,s){return s.offset[o]?isNaN(s.offset[o])?s.offset[o]:s.offset[o]+"px":"0px"}function i(o,s){return!o||typeof s!="string"?!1:!!(o.className&&o.className.trim().split(/\s+/gi).indexOf(s)>-1)}return a.lib.init.prototype=a.lib,a})}(U)),U.exports}var Wt=Pt();const We=It(Wt),Ut=e=>{We({text:e,duration:3e3,gravity:"top",position:"right",className:"toast-success",style:{background:"transparent",color:"black",boxShadow:"none"}}).showToast()},Mt=e=>{We({text:e,duration:3e3,gravity:"top",position:"right",className:"toast-error",style:{background:"transparent",color:"red",boxShadow:"none"}}).showToast()};export{z as B,Mt as a,Nt as b,W as c,Lt as l,Jt as r,Dt as s,Ut as t,$t as v};
